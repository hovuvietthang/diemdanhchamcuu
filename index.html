<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
    <!-- Latest compiled and minified CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="./main.css" rel="stylesheet">


<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
    <title>ĐIỂM DANH</title>
</head>
<body>
    <div class="container">
        <h1 class="tieudeweb">ĐIỂM DANH CHÂM CỨU</h1>
    </div>
    <div class="container">
      <input id="tags" class="form-control"type="search" placeholder="Họ và tên bệnh nhân" required spellcheck="false" autocomplete="off">
      <script>
        var inforAPI = "https://script.google.com/macros/s/AKfycbxH-wJUqFE_2Q9Fta3DpgsUsqkRxQUi3kjQJjg_oTHbTF_s0i0hCuOCTlijU_FgEG_cDg/exec";
fetch(inforAPI)
.then(function (response) {
return response.json();
})
.then(function (infor) {
$(document).ready(function () {
let alivableTag = [];
for (let i = 0 ; i < infor.length ; i++){
alivableTag[i] = "ID : " + infor[i].id + " / " + infor[i].ho_va_ten + " / " + infor[i].tuoi;
}
console.log(alivableTag);
$("#tags").autocomplete(
{
source: alivableTag
}
)

});
});
    </script>
        <div class="container btn">
            <button type="submit" id="btn-tracuu" class="btn btn-primary" data-bs-toggle="offcanvas" data-bs-target="#infor-benh-nhan">TRA CỨU THÔNG TIN</button>
            <button class="btn btn-primary" id="btn-xuat-danh-sach" data-bs-toggle="offcanvas"data-bs-target="#xuat-danh-sach">XUẤT DANH SÁCH</button>
            <button class="btn btn-success" id="btn-benh-nhan-moi" data-bs-toggle="offcanvas"data-bs-target="#benh-nhan-moi">THÊM THÔNG TIN BỆNH NHÂN MỚI</button>
        </div>
        <p class="total_profile">Tổng số hồ sơ đang điều trị : <span id="total_profile"> </span></p>
        <p class="total_profile">Điều trị hôm nay : <span id="total_profile_dieutri"> </span></p>
        <p class="total_profile">Nhập viện hôm nay : <span id="total_profile_nhap"> </span></p>
        <p class="total_profile">Xuất viện hôm nay : <span id="total_profile_xuat"> </span></p>
    </div>
    <!-- DIV THÔNG TIN -->
    <div class="offcanvas offcanvas-start" id="infor-benh-nhan">
        <div class="offcanvas-header">
          <h4 class="offcanvas-title">THÔNG TIN BỆNH NHÂN</h4>
          <button id="btn-dong" type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
        </div>
        <div class="offcanvas-body">
          <div class="infor-name"><h6>1) Họ và tên : </h6><p  class="infor-text text-uppercase" id="fullname"></p></div>
          <div class="infor-name"><h6>2) Tuổi : </h6><p  class="infor-text" id="yearsold"></p></div>
          <div class="infor-name"><h6>3) Giới tính : </h6><p  class="infor-text text-uppercase" id="gender"></p></div>
          <div class="infor-name"><h6>4) Ngày nhập viện : </h6><p  class="infor-text" id="dayon"></p></div>
          <div class="infor-name"><h6>5) Tình trạng hiện tại : </h6><p  class="infor-text" id="dien_bien"></p></div>
          <div class="infor-name"><h6>6) Bác sĩ điều trị : </h6><p  class="infor-text" id="bacsi"></p></div>
          <div class="infor-name"><h6>7) Đợt điều trị gần nhất : </h6></div><p  class="infor-text" id="dieutrigannhat"></p>
          <div class="infor-name" id="lichsudieutri-div"><h6 id="lichsudieutri-name">8) Lịch sử điều trị : [Ẩn/Hiện]</h6></div><p  class="infor-text" id="days"></p>
          <div class="infor-btn">
            <button title="nút điểm danh diều trị" class="btn btn-success btn-check-info" type="button" id="btn-diemdanh"></button>
            <button title="nút xuất viện"class="btn btn-danger btn-check-info " type="button" id="btn-xuatvien"></button>
            <button title="Nhập viện lại"class="btn btn-primary btn-check-info" type="button" id="btn-nhapvien"></button>
            <button title="Đóng bảng thông tin"data-bs-dismiss="offcanvas" class="btn btn-dark btn-check-info btn-close btn-dong2" type="button" id="btn-dong2"></button>
          </div>
        </div>
    </div>
    <!-- DIV Thông tin -->
       <!-- DIV THÔNG TIN BỆNH NHÂN CHƯA CÓ DỮ LIỆU-->
       <div class="offcanvas offcanvas-start" id="benh-nhan-moi">
        <div class="offcanvas-header">
          <h4 class="offcanvas-title">THÊM DỮ LIỆU BỆNH NHÂN MỚI</h4>
          <button id="btn-dong" type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
        </div>
        <div class="offcanvas-body">
          <form>
            <p id="id-benh-nhan"></p>
            <!-- Text input -->
            <div class="form-outline mb-1">
                <input type="text" id="form-ho-va-ten" class="form-control" placeholder="Họ và tên bệnh nhân" autocomplete="off" />
              </div>
               <!-- Text input -->
            <div class="form-outline mb-1">
                <input type="text" id="form-tuoi" class="form-control" placeholder="Tuổi" autocomplete="off" />
              </div>
            <!-- Text input -->
            <div class="form-outline mb-1">
              <input type="text" id="form-gioi-tinh" class="form-control" placeholder="Giới tính" autocomplete="off" />
            </div>
          
            <!-- Text input -->
            <div class="form-outline mb-1">
              <input type="date" id="form-date" class="form-control" placeholder="Ngày nhập viện" autocomplete="off"/>
            </div>
            <!-- Email input -->
            <div class="form-outline mb-1">
              <input type="text" id="form-phan-loai" class="form-control" placeholder="Phân loại hồ sơ" autocomplete="off"/>
            </div>
            <!-- Message input -->
            <!-- Submit button -->
            <button class="btn btn-success" type="button" id = "btn-them-du-lieu">THÊM DỮ LIỆU</button>
          </form>
        </div>
    </div>
    <!-- DIV Thông tin -->
    <!-- DIV LẤY DANH SÁCH -->
    <div class="offcanvas offcanvas-start container offcanvas-body" id="xuat-danh-sach">
      <div class="offcanvas-header">
        <h4 class="offcanvas-title">LẤY DANH SÁCH</h4>
      <button id="" type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
        </div>
      <div class="container-fluid">
        <input class="form-control" id="date-filter" type="date"/>
      </div>
      
      <button class="btn btn-success btn-cl-ds" id="btn-ds-dieutri">ĐIỀU TRỊ</button>
      <div class="container div-xuat-ds" id="danh-sach-dieu-tri">
        <p id="p-ds-dieutri"></p>
      </div>
      <button class="btn btn-danger btn-cl-ds" id="btn-ds-nhapvien">NHẬP VIỆN</button>
      <div class="container div-xuat-ds" id="danh-sach-nhap-vien">
        <p id="p-ds-nhapvien"></p>
      </div>
      <button class="btn btn-primary btn-cl-ds" id="btn-ds-xuatvien">XUẤT VIỆN</button>
      <div class="container div-xuat-ds" id="danh-sach-xuat-vien">
        <p id="p-ds-xuatvien"></p>
      </div>
    </div>
    <!-- DIV LẤY DANH SÁCH CHÂM CỨU -->
        <script src="./main.js"></script>
        <script src="./laydanhsach.js"></script>
</body>
</html>